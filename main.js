(()=>{"use strict";function e(e,n,r,o,c,a){var i=n.cloneNode(!0),s=i.querySelector(".card__image"),u=i.querySelector(".card__title"),p=i.querySelector(".card__delete-button"),d=i.querySelector(".card__like-button");return d.addEventListener("click",(function(){return r(d)})),s.addEventListener("click",(function(){return o(e,c,a)})),s.src=e.link,s.alt=e.name,u.textContent=e.name,p.addEventListener("click",t),i}function t(e){e.target.closest(".places__item").remove()}function n(e){e.classList.toggle("card__like-button_is-active")}function r(e){e.classList.add("popup_is-animated"),setTimeout((function(){e.classList.add("popup_is-opened")}),10),document.addEventListener("keydown",c)}function o(e){e.classList.remove("popup_is-opened"),setTimeout((function(){e.classList.remove("popup_is-animated")}),600),document.removeEventListener("keydown",c)}function c(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");t&&o(t)}}function a(e){e.addEventListener("mousedown",(function(t){t.target===e&&o(e)}));var t=e.querySelector(".popup__close");t&&t.addEventListener("click",(function(){return o(e)}))}function i(e,t,n){var r=t.querySelector(".popup__image"),o=t.querySelector(".popup__caption");r.src=e.link,r.alt=e.name,o.textContent=e.name,n(t)}var s=document.querySelector(".page"),u=s.querySelector("#card-template").content,p=s.querySelector(".places__list"),d=s.querySelector(".popup_type_edit");a(d);var l=s.querySelector(".profile__title"),m=s.querySelector(".profile__description"),v=document.forms["edit-profile"];!function(e,t,n,r,o){var c=o.elements.name,a=o.elements.description;c.value=e.textContent,a.value=t.textContent,o.addEventListener("submit",(function(o){o.preventDefault();var i=c.value,s=a.value;e.textContent=i,t.textContent=s,n(r)}))}(l,m,o,d,v),s.querySelector(".profile__edit-button").addEventListener("click",(function(){return function(e,t,n,r,o){var c=o.elements.name,a=o.elements.description;c.value=e.textContent,a.value=t.textContent,n(r)}(l,m,r,d,v)}));var f=s.querySelector(".popup_type_image");a(f);var _=s.querySelector(".popup_type_new-card"),y=s.querySelector(".profile__add-button");a(_),function(t,n,r,o,c,a,i,s){var u=document.forms["new-place"],d=u.elements["place-name"],l=u.elements.link;u.addEventListener("submit",(function(t){t.preventDefault();var m={name:d.value,link:l.value};u.reset(),function(t,n,r,o,c,a){var i=e(t,n,r,o,c,a);p.prepend(i)}(m,n,c,a,i,s),r(o)}))}(0,u,o,_,n,i,f,r),y.addEventListener("click",(function(){return r(_)})),function(t,n,r,o,c,a){[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(t){var i=e(t,n,r,o,c,a);p.appendChild(i)}))}(0,u,n,i,f,r)})();